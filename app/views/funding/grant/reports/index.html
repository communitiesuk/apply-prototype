{% extends "layouts/reports.html" %}

{% set navID = 'grantReports' %}
{% set showBackLink = false %}
{% set showBackApplicationsLink = false %}

{% set pageSize = "xl" %}
{% set pageHeading = "Reports" %}
{% set pageSection = '' + data['grantName'] + '' %}
{% set pageHidden = "yes" %}
{% set pageNested = "yes" %}

{% block pageTitle %}{{ macroPageTitle.pageTitle(pageHeading) }}{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        {{ macroPageHeader.pageHeader(pageNested,pageHeading,pageSection,pageHidden,pageSize) }}

        {% if not data['formReport'] %} 
        <p class="govuk-body">There are no monitoring reports for {{ data.grantName or "NAME of GRANT" }}. Add a monitoring report to get started. </p>        
        {% endif %}

    
        {% if data['formReport'] == "yes" %}                

            {{ govukSummaryList({
                
                card: { 
                    title: { text: data['reportName'] },
                    classes: "govuk-!-margin-top-3 govuk-!-margin-bottom-7",
                    actions: {
                        items: [
                            { href: "#", classes:" govuk-link govuk-link--no-visited-state", text: "Preview", visuallyHiddenText: "this monitoring report" },
                            { href: "#", classes:" govuk-link govuk-link--no-visited-state", text: "Change", visuallyHiddenText: "the name of this monitoring report" },
                            { href: "#", classes:" govuk-link govuk-link--no-visited-state", text: "Delete", visuallyHiddenText: "this monitoring report" }                 
                        ]
                    } 
                },
                rows: [
                    { key: { text: "Created" }, value: { text: "3 June 2025" } },
                    { key: { text: "Created by" }, value: { text: "brian.coult@communities.gov.uk" } },
                    { key: { text: "Sections" }, value: { html: '<a href="/funding/grant/reports/add/section/" class="govuk-link govuk-link--no-visited-state">Add sections</a> to start creating your report' } }
                ]
            }) }}
            
            <!-- <h2 class="govuk-heading-m govuk-!-margin-bottom-1 govuk-!-margin-top-1">Live reports</h2>         
            <p class="govuk-body">This shows all the monitoring reports for {{ data.grantName or "NAME of GRANT" }}. </p>   
            {{ govukSummaryList({
                
                card: { 
                    title: { text: data['reportName'] },
                    classes: "govuk-!-margin-top-3 govuk-!-margin-bottom-7",
                    actions: {
                        items: [
                            { href: "#", classes:" govuk-link govuk-link--no-visited-state", text: "Preview", visuallyHiddenText: "this monitoring report" }                            
                            
                        ]
                    } 
                },
                rows: [
                    { key: { text: "Created" }, value: { text: "3 June 2025" } },
                    { key: { text: "Created by" }, value: { text: "brian.coult@communities.gov.uk" } },
                    { key: { text: "Sections" }, value: { html: '<a href="/funding/grant/reports/sections" class="govuk-link govuk-link--no-visited-state">View sections</a>' } }
                ]
            }) }}

            {{ govukSummaryList({
                
                card: { 
                    title: { text: data['reportName'] },
                    classes: "govuk-!-margin-top-3 govuk-!-margin-bottom-7",
                    actions: {
                        items: [
                            { href: "#", classes:" govuk-link govuk-link--no-visited-state", text: "Preview", visuallyHiddenText: "this monitoring report" }
                            
                                           
                        ]
                    } 
                },
                rows: [
                    { key: { text: "Created" }, value: { text: "3 June 2025" } },
                    { key: { text: "Created by" }, value: { text: "brian.coult@communities.gov.uk" } },
                    { key: { text: "Sections" }, value: { html: '<a href="/funding/grant/reports/sections" class="govuk-link govuk-link--no-visited-state">View sections</a>' } }
                ]
            }) }} -->

        {% endif %}


        <form method="post" action="/funding/grant/reports/add/" >
            {% if data['formReport'] == "yes" %}
                {{ govukButton({
                    text: "Add a monitoring report",
                    classes: "govuk-!-margin-top-5"
                }) }}
            {% else %}
                {{ govukButton({
                    text: "Add a monitoring report",
                    classes: "govuk-!-margin-top-5"
                }) }}
            {% endif %}
        </form>

    </div>
</div>

<!-- {{ govukTable({
    captionClasses: "govuk-table__caption--m",
    head: [ { text: "Name", classes: "govuk-!-width-one-quarter" }, { text: "Created by" }, { text: "Date", classes: "govuk-!-width-one-quarter" } ],
    rows: [
        [ { html: data['addReport-Name'] }, { text: "brian.coult@communities.gov.uk" }, { text: "3 June 2025"} ]                

    ]
}) }}  -->

{% endblock %}